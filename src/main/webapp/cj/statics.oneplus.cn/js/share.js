!function(a,b){function c(a,b,c){this.title=encodeURIComponent(b||document.title),this.pic=encodeURIComponent(c||""),this.link=encodeURIComponent(a||location.href),this.site=encodeURIComponent("http://www.oneplus.cn"),this.weibo_key="160481926",this.windowName="share"}c.prototype={sina:function(){var a="http://v.t.sina.com.cn/share/share.php?title="+this.title+"&url="+this.link+"&site="+this.site+"&ralateUid=&appkey="+this.weibo_key+"&pic="+this.pic+"&searchPic="+this.searchPic;this.open(a)},qqweibo:function(){var a="http://v.t.qq.com/share/share.php?title="+this.title+"&url="+this.link+"&site="+this.site+"&pic="+this.pic;this.open(a)},qqzone:function(){var a="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+this.title+"&url="+this.link+"&site="+this.site+"&pics="+this.pic;this.open(a)},bbs:function(c){c=c||_GLOBAL_CONFIG.bbsShareUrl,a(".p-loading").css("visibility","visible"),a.ajax({url:c,type:"get",data:{subject:this.title,link:this.link,imgUrl:this.pic},dataType:"jsonp",jsonp:"jsonpcallback"}).done(function(c){b.pop.alert("0x000"===c.status?"分享成功！":"0x002"===c.status?c.message:c.message),a(".p-loading").css("visibility","hidden")}).fail(function(){b.pop.alert("网络超时，请重试!"),a(".p-loading").css("visibility","hidden")})},getParamsOfShareWindow:function(){},open:function(a){b.open(a,"newwindow","height=100,width=400,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}};var d=new c;a(document).on("click","[data-api^=share_]",function(b){var c=a(b.target),e=c.attr("data-api").split("_")[1],f=c.attr("data-title"),g=c.attr("data-pic"),h=c.attr("data-url"),i=c.attr("data-searchpic");switch(d.title=encodeURIComponent(f||document.title),d.pic=encodeURIComponent(g||""),d.link=encodeURIComponent(h||location.href),d.searchPic=i||"",e){case"sina":d.sina();break;case"qqweibo":d.qqweibo();break;case"qqzone":d.qqzone();break;case"bbs":d.bbs(h)}b.preventDefault()});var e=e||b.op||{};e.shop=e.shop||{},e.shop.share=c}(jQuery,window);